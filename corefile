.:53 {
    # Custom internal zone resolution using the hosts plugin
    hosts {
        # Format: <IP_ADDRESS> <DOMAIN_NAME>
        
        # New Record 1: Custom record for Jenkins (pointing to the Jenkins service name/IP)
        172.20.0.10     ci.local        # Assuming 172.20.0.10 is the static IP of your Jenkins container
        
        # New Record 2: Custom domain for GitLab
        172.20.0.20     gitlab.devops   # Assuming 172.20.0.20 is the static IP of your GitLab container
        
        # Fallthrough tells CoreDNS to check the next plugin if the record isn't found here.
        fallthrough
    }
    
    # Forward all other queries upstream (e.g., to public DNS)
    forward . 8.8.8.8 8.8.4.4
    log
    errors
    health
    cache
}